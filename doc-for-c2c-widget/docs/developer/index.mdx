# Development Notes

This folder is an assortment of notes and logs for developers working on the C2C widget.

## Vague Conventions

1. style files in `src/css`, generally one file per component. Styles should be imported into `index.scss` and that will automatically be included in the build.
2. util functions in `src/lib`
3. UI elements in `src/ui`
4. UI HTML elements as `<name>.html.ts`, and it should export default `html` function.
5. UI elements with HTML+Logic and interacivity as `<name>.ui.ts`
6. SVG icons in `src/icons`
7. Icons should be imported raw (`import icon from './path/to/icon.svg?raw'`), and then used as `<div>{icon}</div>`.

## Repo quirks

1. `static/c2c-widget.js` is a stub, but `npm run build` on either `embed-script` or `doc-for-c2c-widget` will replace it with the actual widget js.
    However, git will ignore the new changes, because we don't want to commit the built file to the repo. (`git update-index --skip-worktree static/c2c-widget.js`)

## Building, deploying, pushing to CDN

The widget is in the `embed-script` folder. It lives near a dummy demo page (index.html).

To build the widget, run `npm run build`. 

To deploy the widget and it's demo page, run `npm run deploy`. This will try to publish the site to surge.sh.
 You will be prompted to enter a new domain, as the domain I've added there will only work if you have my surge.sh credentials.

To push the widget to the CDN, run `npm run pushToCDN`. This will push the widget to the CDN (https://assets.signalwire.com/c2c-widget.js)


